import{C as ge,D as me,r as c,K as G,j as N,k as a,I as Vt,bt as Ut,aj as gt,aq as Ft,at as et,au as We,b0 as O,a_ as Ht,J as xe,b1 as ie,as as Be,_ as b,E as j,L as X,b9 as jt,b8 as Wt,O as xt,b7 as $t,P as Se,ai as wt,H as Ce,M as _t,bT as Bt,ab as dt,x as oe,v as Q,Q as ye,R as Ie,U as Re,F as te,B as se,t as q,aw as qt,T as be}from"./index.f0f9ca94.js";import{N as Yt,P as Kt}from"./PageContent.2346795a.js";import{P as Xt}from"./PageFooter.c57ca644.js";import{v as Gt}from"./visuallyHidden.c6275901.js";import{d as Zt}from"./Download.1bce961c.js";import{d as Jt}from"./Clear.169bd5a3.js";import{A as Qt}from"./ActionBar.dce3ac11.js";import{d as eo}from"./Delete.a6a0b2f4.js";import{R as to}from"./ResponsiveDialog.cd76fcb7.js";import{I as tt}from"./MenuItem.3759225b.js";function _e(e){return ge("MuiSlider",e)}const oo=me("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]);var qe=oo;const no=e=>{const{open:t}=e;return{offset:G(t&&qe.valueLabelOpen),circle:qe.valueLabelCircle,label:qe.valueLabelLabel}};function Mt(e){const{children:t,className:o,value:n}=e,r=no(e);return c.exports.cloneElement(t,{className:G(t.props.className)},N(c.exports.Fragment,{children:[t.props.children,a("span",{className:G(r.offset,o),"aria-hidden":!0,children:a("span",{className:r.circle,children:a("span",{className:r.label,children:n})})})]}))}const ao=2;function Nt(e,t){return e-t}function we(e,t,o){return e==null?t:Math.min(Math.max(t,e),o)}function St(e,t){var o;const{index:n}=(o=e.reduce((r,s,m)=>{const i=Math.abs(t-s);return r===null||i<r.distance||i===r.distance?{distance:i,index:m}:r},null))!=null?o:{};return n}function Ue(e,t){if(t.current!==void 0&&e.changedTouches){const o=e;for(let n=0;n<o.changedTouches.length;n+=1){const r=o.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Ye(e,t,o){return(e-t)*100/(o-t)}function ro(e,t,o){return(o-t)*e+t}function lo(e){if(Math.abs(e)<1){const o=e.toExponential().split("e-"),n=o[0].split(".")[1];return(n?n.length:0)+parseInt(o[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function io(e,t,o){const n=Math.round((e-o)/t)*t+o;return Number(n.toFixed(lo(t)))}function Ct({values:e,newValue:t,index:o}){const n=e.slice();return n[o]=t,n.sort(Nt)}function Fe({sliderRef:e,activeIndex:t,setActive:o}){var n,r;const s=We(e.current);if(!((n=e.current)!=null&&n.contains(s.activeElement))||Number(s==null||(r=s.activeElement)==null?void 0:r.getAttribute("data-index"))!==t){var m;(m=e.current)==null||m.querySelector(`[type="range"][data-index="${t}"]`).focus()}o&&o(t)}const so={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},co=e=>e;let He;function ot(){return He===void 0&&(typeof CSS!="undefined"&&typeof CSS.supports=="function"?He=CSS.supports("touch-action","none"):He=!0),He}function uo(e){const{"aria-labelledby":t,defaultValue:o,disabled:n=!1,disableSwap:r=!1,isRtl:s=!1,marks:m=!1,max:i=100,min:p=0,name:S,onChange:u,onChangeCommitted:v,orientation:x="horizontal",ref:_,scale:$=co,step:d=1,tabIndex:h,value:g}=e,R=c.exports.useRef(),[V,P]=c.exports.useState(-1),[U,H]=c.exports.useState(-1),[Z,ee]=c.exports.useState(!1),Y=c.exports.useRef(0),[T,E]=Vt({controlled:g,default:o!=null?o:p,name:"Slider"}),F=u&&((l,f,C)=>{const I=l.nativeEvent||l,y=new I.constructor(I.type,I);Object.defineProperty(y,"target",{writable:!0,value:{value:f,name:S}}),u(y,f,C)}),D=Array.isArray(T);let w=D?T.slice().sort(Nt):[T];w=w.map(l=>we(l,p,i));const fe=m===!0&&d!==null?[...Array(Math.floor((i-p)/d)+1)].map((l,f)=>({value:p+d*f})):m||[],A=fe.map(l=>l.value),{isFocusVisibleRef:ue,onBlur:Xe,onFocus:Ge,ref:Ze}=Ut(),[Me,ne]=c.exports.useState(-1),W=c.exports.useRef(),Ne=gt(Ze,W),Le=gt(_,Ne),Je=l=>f=>{var C;const I=Number(f.currentTarget.getAttribute("data-index"));Ge(f),ue.current===!0&&ne(I),H(I),l==null||(C=l.onFocus)==null||C.call(l,f)},ke=l=>f=>{var C;Xe(f),ue.current===!1&&ne(-1),H(-1),l==null||(C=l.onBlur)==null||C.call(l,f)};Ft(()=>{if(n&&W.current.contains(document.activeElement)){var l;(l=document.activeElement)==null||l.blur()}},[n]),n&&V!==-1&&P(-1),n&&Me!==-1&&ne(-1);const J=l=>f=>{var C;(C=l.onChange)==null||C.call(l,f);const I=Number(f.currentTarget.getAttribute("data-index")),y=w[I],L=A.indexOf(y);let M=f.target.valueAsNumber;if(fe&&d==null&&(M=M<y?A[L-1]:A[L+1]),M=we(M,p,i),fe&&d==null){const K=A.indexOf(w[I]);M=M<w[I]?A[K-1]:A[K+1]}if(D){r&&(M=we(M,w[I-1]||-1/0,w[I+1]||1/0));const K=M;M=Ct({values:w,newValue:M,index:I});let k=I;r||(k=M.indexOf(K)),Fe({sliderRef:W,activeIndex:k})}E(M),ne(I),F&&F(f,M,I),v&&v(f,M)},Pe=c.exports.useRef();let ve=x;s&&x==="horizontal"&&(ve+="-reverse");const B=({finger:l,move:f=!1})=>{const{current:C}=W,{width:I,height:y,bottom:L,left:M}=C.getBoundingClientRect();let K;ve.indexOf("vertical")===0?K=(L-l.y)/y:K=(l.x-M)/I,ve.indexOf("-reverse")!==-1&&(K=1-K);let k;if(k=ro(K,p,i),d)k=io(k,d,p);else{const Qe=St(A,k);k=A[Qe]}k=we(k,p,i);let le=0;if(D){f?le=Pe.current:le=St(w,k),r&&(k=we(k,w[le-1]||-1/0,w[le+1]||1/0));const Qe=k;k=Ct({values:w,newValue:k,index:le}),r&&f||(le=k.indexOf(Qe),Pe.current=le)}return{newValue:k,activeIndex:le}},ae=et(l=>{const f=Ue(l,R);if(!f)return;if(Y.current+=1,l.type==="mousemove"&&l.buttons===0){re(l);return}const{newValue:C,activeIndex:I}=B({finger:f,move:!0});Fe({sliderRef:W,activeIndex:I,setActive:P}),E(C),!Z&&Y.current>ao&&ee(!0),F&&C!==T&&F(l,C,I)}),re=et(l=>{const f=Ue(l,R);if(ee(!1),!f)return;const{newValue:C}=B({finger:f,move:!0});P(-1),l.type==="touchend"&&H(-1),v&&v(l,C),R.current=void 0,pe()}),he=et(l=>{if(n)return;ot()||l.preventDefault();const f=l.changedTouches[0];f!=null&&(R.current=f.identifier);const C=Ue(l,R);if(C!==!1){const{newValue:y,activeIndex:L}=B({finger:C});Fe({sliderRef:W,activeIndex:L,setActive:P}),E(y),F&&F(l,y,L)}Y.current=0;const I=We(W.current);I.addEventListener("touchmove",ae),I.addEventListener("touchend",re)}),pe=c.exports.useCallback(()=>{const l=We(W.current);l.removeEventListener("mousemove",ae),l.removeEventListener("mouseup",re),l.removeEventListener("touchmove",ae),l.removeEventListener("touchend",re)},[re,ae]);c.exports.useEffect(()=>{const{current:l}=W;return l.addEventListener("touchstart",he,{passive:ot()}),()=>{l.removeEventListener("touchstart",he,{passive:ot()}),pe()}},[pe,he]),c.exports.useEffect(()=>{n&&pe()},[n,pe]);const Te=l=>f=>{var C;if((C=l.onMouseDown)==null||C.call(l,f),n||f.defaultPrevented||f.button!==0)return;f.preventDefault();const I=Ue(f,R);if(I!==!1){const{newValue:L,activeIndex:M}=B({finger:I});Fe({sliderRef:W,activeIndex:M,setActive:P}),E(L),F&&F(f,L,M)}Y.current=0;const y=We(W.current);y.addEventListener("mousemove",ae),y.addEventListener("mouseup",re)},Ee=Ye(D?w[0]:p,p,i),Ae=Ye(w[w.length-1],p,i)-Ee,$e=(l={})=>{const f={onMouseDown:Te(l||{})},C=O({},l,f);return O({ref:Le},C)},De=l=>f=>{var C;(C=l.onMouseOver)==null||C.call(l,f);const I=Number(f.currentTarget.getAttribute("data-index"));H(I)},Oe=l=>f=>{var C;(C=l.onMouseLeave)==null||C.call(l,f),H(-1)};return{active:V,axis:ve,axisProps:so,dragging:Z,focusedThumbIndex:Me,getHiddenInputProps:(l={})=>{var f;const C={onChange:J(l||{}),onFocus:Je(l||{}),onBlur:ke(l||{})},I=O({},l,C);return O({tabIndex:h,"aria-labelledby":t,"aria-orientation":x,"aria-valuemax":$(i),"aria-valuemin":$(p),name:S,type:"range",min:e.min,max:e.max,step:(f=e.step)!=null?f:void 0,disabled:n},I,{style:O({},Gt,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:$e,getThumbProps:(l={})=>{const f={onMouseOver:De(l||{}),onMouseLeave:Oe(l||{})};return O({},l,f)},marks:fe,open:U,range:D,trackLeap:Ae,trackOffset:Ee,values:w}}const po=["aria-label","aria-valuetext","className","component","classes","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","components","componentsProps"],yt=e=>e,mo=e=>{const{disabled:t,dragging:o,marked:n,orientation:r,track:s,classes:m}=e;return xe({root:["root",t&&"disabled",o&&"dragging",n&&"marked",r==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},_e,m)},fo=({children:e})=>e,vo=c.exports.forwardRef(function(t,o){var n,r,s,m,i,p,S;const{"aria-label":u,"aria-valuetext":v,className:x,component:_,classes:$,disableSwap:d=!1,disabled:h=!1,getAriaLabel:g,getAriaValueText:R,marks:V=!1,max:P=100,min:U=0,orientation:H="horizontal",scale:Z=yt,step:ee=1,track:Y="normal",valueLabelDisplay:T="off",valueLabelFormat:E=yt,isRtl:F=!1,components:D={},componentsProps:w={}}=t,fe=Ht(t,po),A=O({},t,{marks:V,classes:$,disabled:h,isRtl:F,max:P,min:U,orientation:H,scale:Z,step:ee,track:Y,valueLabelDisplay:T,valueLabelFormat:E}),{axisProps:ue,getRootProps:Xe,getHiddenInputProps:Ge,getThumbProps:Ze,open:Me,active:ne,axis:W,range:Ne,focusedThumbIndex:Le,dragging:Je,marks:ke,values:J,trackOffset:Pe,trackLeap:ve}=uo(O({},A,{ref:o}));A.marked=ke.length>0&&ke.some(y=>y.label),A.dragging=Je,A.focusedThumbIndex=Le;const B=mo(A),ae=(n=_!=null?_:D.Root)!=null?n:"span",re=ie({elementType:ae,getSlotProps:Xe,externalSlotProps:w.root,externalForwardedProps:fe,ownerState:A,className:[B.root,x]}),he=(r=D.Rail)!=null?r:"span",pe=ie({elementType:he,externalSlotProps:w.rail,ownerState:A,className:B.rail}),Te=(s=D.Track)!=null?s:"span",Ee=ie({elementType:Te,externalSlotProps:w.track,additionalProps:{style:O({},ue[W].offset(Pe),ue[W].leap(ve))},ownerState:A,className:B.track}),Ae=(m=D.Thumb)!=null?m:"span",$e=ie({elementType:Ae,getSlotProps:Ze,externalSlotProps:w.thumb,ownerState:A}),De=(i=D.ValueLabel)!=null?i:Mt,Oe=ie({elementType:De,externalSlotProps:w.valueLabel,ownerState:A}),ze=(p=D.Mark)!=null?p:"span",Ve=ie({elementType:ze,externalSlotProps:w.mark,ownerState:A,className:B.mark}),l=(S=D.MarkLabel)!=null?S:"span",f=ie({elementType:l,externalSlotProps:w.markLabel,ownerState:A}),C=D.Input||"input",I=ie({elementType:C,getSlotProps:Ge,externalSlotProps:w.input,ownerState:A});return N(ae,O({},re,{children:[a(he,O({},pe)),a(Te,O({},Ee)),ke.filter(y=>y.value>=U&&y.value<=P).map((y,L)=>{const M=Ye(y.value,U,P),K=ue[W].offset(M);let k;return Y===!1?k=J.indexOf(y.value)!==-1:k=Y==="normal"&&(Ne?y.value>=J[0]&&y.value<=J[J.length-1]:y.value<=J[0])||Y==="inverted"&&(Ne?y.value<=J[0]||y.value>=J[J.length-1]:y.value>=J[0]),N(c.exports.Fragment,{children:[a(ze,O({"data-index":L},Ve,!Be(ze)&&{markActive:k},{style:O({},K,Ve.style),className:G(Ve.className,k&&B.markActive)})),y.label!=null?a(l,O({"aria-hidden":!0,"data-index":L},f,!Be(l)&&{markLabelActive:k},{style:O({},K,f.style),className:G(B.markLabel,f.className,k&&B.markLabelActive),children:y.label})):null]},y.value)}),J.map((y,L)=>{const M=Ye(y,U,P),K=ue[W].offset(M),k=T==="off"?fo:De;return a(c.exports.Fragment,{children:a(k,O({},!Be(k)&&{valueLabelFormat:E,valueLabelDisplay:T,value:typeof E=="function"?E(Z(y),L):E,index:L,open:Me===L||ne===L||T==="on",disabled:h},Oe,{className:G(B.valueLabel,Oe.className),children:a(Ae,O({"data-index":L,"data-focusvisible":Le===L},$e,{className:G(B.thumb,$e.className,ne===L&&B.active,Le===L&&B.focusVisible),style:O({},K,{pointerEvents:d&&ne!==L?"none":void 0},$e.style),children:a(C,O({"data-index":L,"aria-label":g?g(L):u,"aria-valuenow":Z(y),"aria-valuetext":R?R(Z(y),L):v,value:J[L]},I))}))}))},L)})]}))});var ho=vo;const bo=e=>!e||!Be(e);var je=bo;const go=["component","components","componentsProps","color","size"],ce=b({},qe,me("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),xo=j("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`color${X(o.color)}`],o.size!=="medium"&&t[`size${X(o.size)}`],o.marked&&t.marked,o.orientation==="vertical"&&t.vertical,o.track==="inverted"&&t.trackInverted,o.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>b({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&b({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&b({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${ce.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${ce.dragging}`]:{[`& .${ce.thumb}, & .${ce.track}`]:{transition:"none"}}})),So=j("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>b({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),Co=j("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const o=e.palette.mode==="light"?jt(e.palette[t.color].main,.62):Wt(e.palette[t.color].main,.5);return b({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:o,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:o})}),yo=j("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.thumb,t[`thumbColor${X(o.color)}`],o.size!=="medium"&&t[`thumbSize${X(o.size)}`]]}})(({theme:e,ownerState:t})=>b({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":b({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${ce.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:xt(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${ce.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:xt(e.palette[t.color].main,.16)}`},[`&.${ce.disabled}`]:{"&:hover":{boxShadow:"none"}}})),Io=j(Mt,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>b({[`&.${ce.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),Ro=j("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>$t(e)&&e!=="markActive",overridesResolver:(e,t)=>t.mark})(({theme:e,ownerState:t,markActive:o})=>b({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},o&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),Lo=j("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>$t(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:o})=>b({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},o&&{color:(e.vars||e).palette.text.primary})),ko=e=>{const{color:t,size:o,classes:n={}}=e;return b({},n,{root:G(n.root,_e(`color${X(t)}`),n[`color${X(t)}`],o&&[_e(`size${X(o)}`),n[`size${X(o)}`]]),thumb:G(n.thumb,_e(`thumbColor${X(t)}`),n[`thumbColor${X(t)}`],o&&[_e(`thumbSize${X(o)}`),n[`thumbSize${X(o)}`]])})},$o=c.exports.forwardRef(function(t,o){var n,r,s,m;const i=Se({props:t,name:"MuiSlider"}),S=wt().direction==="rtl",{component:u="span",components:v={},componentsProps:x={},color:_="primary",size:$="medium"}=i,d=Ce(i,go),h=b({},i,{color:_,size:$}),g=ko(h);return a(ho,b({},d,{isRtl:S,components:b({Root:xo,Rail:So,Track:Co,Thumb:yo,ValueLabel:Io,Mark:Ro,MarkLabel:Lo},v),componentsProps:b({},x,{root:b({},x.root,je(v.Root)&&{as:u,ownerState:b({},(n=x.root)==null?void 0:n.ownerState,{color:_,size:$})}),thumb:b({},x.thumb,je(v.Thumb)&&{ownerState:b({},(r=x.thumb)==null?void 0:r.ownerState,{color:_,size:$})}),track:b({},x.track,je(v.Track)&&{ownerState:b({},(s=x.track)==null?void 0:s.ownerState,{color:_,size:$})}),valueLabel:b({},x.valueLabel,je(v.ValueLabel)&&{ownerState:b({},(m=x.valueLabel)==null?void 0:m.ownerState,{color:_,size:$})})}),classes:g,ref:o}))});var It=$o;const wo=c.exports.createContext({});var Ke=wo;const _o=c.exports.createContext({});var ut=_o;function Mo(e){return ge("MuiStep",e)}me("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const No=["active","children","className","component","completed","disabled","expanded","index","last"],Po=e=>{const{classes:t,orientation:o,alternativeLabel:n,completed:r}=e;return xe({root:["root",o,n&&"alternativeLabel",r&&"completed"]},Mo,t)},To=j("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.alternativeLabel&&t.alternativeLabel,o.completed&&t.completed]}})(({ownerState:e})=>b({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),Eo=c.exports.forwardRef(function(t,o){const n=Se({props:t,name:"MuiStep"}),{active:r,children:s,className:m,component:i="div",completed:p,disabled:S,expanded:u=!1,index:v,last:x}=n,_=Ce(n,No),{activeStep:$,connector:d,alternativeLabel:h,orientation:g,nonLinear:R}=c.exports.useContext(Ke);let[V=!1,P=!1,U=!1]=[r,p,S];$===v?V=r!==void 0?r:!0:!R&&$>v?P=p!==void 0?p:!0:!R&&$<v&&(U=S!==void 0?S:!0);const H=c.exports.useMemo(()=>({index:v,last:x,expanded:u,icon:v+1,active:V,completed:P,disabled:U}),[v,x,u,V,P,U]),Z=b({},n,{active:V,orientation:g,alternativeLabel:h,completed:P,disabled:U,expanded:u,component:i}),ee=Po(Z),Y=N(To,b({as:i,className:G(ee.root,m),ref:o,ownerState:Z},_,{children:[d&&h&&v!==0?d:null,s]}));return a(ut.Provider,{value:H,children:d&&!h&&v!==0?N(c.exports.Fragment,{children:[d,Y]}):Y})});var nt=Eo,Ao=_t(a("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),Do=_t(a("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Oo(e){return ge("MuiStepIcon",e)}const zo=me("MuiStepIcon",["root","active","completed","error","text"]);var at=zo,Rt;const Vo=["active","className","completed","error","icon"],Uo=e=>{const{classes:t,active:o,completed:n,error:r}=e;return xe({root:["root",o&&"active",n&&"completed",r&&"error"],text:["text"]},Oo,t)},rt=j(Bt,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${at.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${at.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${at.error}`]:{color:(e.vars||e).palette.error.main}})),Fo=j("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),Ho=c.exports.forwardRef(function(t,o){const n=Se({props:t,name:"MuiStepIcon"}),{active:r=!1,className:s,completed:m=!1,error:i=!1,icon:p}=n,S=Ce(n,Vo),u=b({},n,{active:r,completed:m,error:i}),v=Uo(u);if(typeof p=="number"||typeof p=="string"){const x=G(s,v.root);return i?a(rt,b({as:Do,className:x,ref:o,ownerState:u},S)):m?a(rt,b({as:Ao,className:x,ref:o,ownerState:u},S)):N(rt,b({className:x,ref:o,ownerState:u},S,{children:[Rt||(Rt=a("circle",{cx:"12",cy:"12",r:"12"})),a(Fo,{className:v.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:p})]}))}return p});var jo=Ho;function Wo(e){return ge("MuiStepLabel",e)}const Bo=me("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]);var de=Bo;const qo=["children","className","componentsProps","error","icon","optional","StepIconComponent","StepIconProps"],Yo=e=>{const{classes:t,orientation:o,active:n,completed:r,error:s,disabled:m,alternativeLabel:i}=e;return xe({root:["root",o,s&&"error",m&&"disabled",i&&"alternativeLabel"],label:["label",n&&"active",r&&"completed",s&&"error",m&&"disabled",i&&"alternativeLabel"],iconContainer:["iconContainer",n&&"active",r&&"completed",s&&"error",m&&"disabled",i&&"alternativeLabel"],labelContainer:["labelContainer",i&&"alternativeLabel"]},Wo,t)},Ko=j("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation]]}})(({ownerState:e})=>b({display:"flex",alignItems:"center",[`&.${de.alternativeLabel}`]:{flexDirection:"column"},[`&.${de.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),Xo=j("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>b({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${de.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${de.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${de.alternativeLabel}`]:{marginTop:16},[`&.${de.error}`]:{color:(e.vars||e).palette.error.main}})),Go=j("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${de.alternativeLabel}`]:{paddingRight:0}})),Zo=j("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${de.alternativeLabel}`]:{textAlign:"center"}})),Pt=c.exports.forwardRef(function(t,o){const n=Se({props:t,name:"MuiStepLabel"}),{children:r,className:s,componentsProps:m={},error:i=!1,icon:p,optional:S,StepIconComponent:u,StepIconProps:v}=n,x=Ce(n,qo),{alternativeLabel:_,orientation:$}=c.exports.useContext(Ke),{active:d,disabled:h,completed:g,icon:R}=c.exports.useContext(ut),V=p||R;let P=u;V&&!P&&(P=jo);const U=b({},n,{active:d,alternativeLabel:_,completed:g,disabled:h,error:i,orientation:$}),H=Yo(U);return N(Ko,b({className:G(H.root,s),ref:o,ownerState:U},x,{children:[V||P?a(Go,{className:H.iconContainer,ownerState:U,children:a(P,b({completed:g,active:d,error:i,icon:V},v))}):null,N(Zo,{className:H.labelContainer,ownerState:U,children:[r?a(Xo,b({className:H.label,ownerState:U},m.label,{children:r})):null,S]})]}))});Pt.muiName="StepLabel";var lt=Pt;function Jo(e){return ge("MuiStepConnector",e)}me("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Qo=["className"],en=e=>{const{classes:t,orientation:o,alternativeLabel:n,active:r,completed:s,disabled:m}=e,i={root:["root",o,n&&"alternativeLabel",r&&"active",s&&"completed",m&&"disabled"],line:["line",`line${X(o)}`]};return xe(i,Jo,t)},tn=j("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.alternativeLabel&&t.alternativeLabel,o.completed&&t.completed]}})(({ownerState:e})=>b({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:8+4,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),on=j("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.line,t[`line${X(o.orientation)}`]]}})(({ownerState:e,theme:t})=>{const o=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return b({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:o},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),nn=c.exports.forwardRef(function(t,o){const n=Se({props:t,name:"MuiStepConnector"}),{className:r}=n,s=Ce(n,Qo),{alternativeLabel:m,orientation:i="horizontal"}=c.exports.useContext(Ke),{active:p,disabled:S,completed:u}=c.exports.useContext(ut),v=b({},n,{alternativeLabel:m,orientation:i,active:p,completed:u,disabled:S}),x=en(v);return a(tn,b({className:G(x.root,r),ref:o,ownerState:v},s,{children:a(on,{className:x.line,ownerState:v})}))});var an=nn;function rn(e){return ge("MuiStepper",e)}me("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);const ln=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],sn=e=>{const{orientation:t,alternativeLabel:o,classes:n}=e;return xe({root:["root",t,o&&"alternativeLabel"]},rn,n)},cn=j("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.alternativeLabel&&t.alternativeLabel]}})(({ownerState:e})=>b({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),dn=a(an,{}),un=c.exports.forwardRef(function(t,o){const n=Se({props:t,name:"MuiStepper"}),{activeStep:r=0,alternativeLabel:s=!1,children:m,className:i,component:p="div",connector:S=dn,nonLinear:u=!1,orientation:v="horizontal"}=n,x=Ce(n,ln),_=b({},n,{alternativeLabel:s,orientation:v,component:p}),$=sn(_),d=c.exports.Children.toArray(m).filter(Boolean),h=d.map((R,V)=>c.exports.cloneElement(R,b({index:V,last:V+1===d.length},R.props))),g=c.exports.useMemo(()=>({activeStep:r,alternativeLabel:s,connector:S,nonLinear:u,orientation:v}),[r,s,S,u,v]);return a(Ke.Provider,{value:g,children:a(cn,b({as:p,ownerState:_,className:G($.root,i),ref:o},x,{children:h}))})});var pn=un;const mn=e=>{var H,Z,ee,Y;const{index:t,total:o,imageSelection:n,onUpdateImage:r,setModifier:s,getModifier:m}=e,i=m(n.id),p=c.exports.useRef(null),S=c.exports.useRef(null),u=c.exports.useRef(null),v=c.exports.useRef(null);c.exports.useEffect(()=>{const T=()=>{r({...n,canvasInfo:null})};return window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}},[n,r]),c.exports.useEffect(()=>{var E,F;const T=(F=(E=v.current)==null?void 0:E.offsetWidth)!=null?F:null;!n.canvasInfo&&T!==null&&r({...n,canvasInfo:{width:T,height:T*n.imageInfo.aspectRatio,scale:T/n.imageInfo.width}})},[n,r,v]);const x=c.exports.useCallback((T,E)=>{if(u.current!==null&&typeof E=="number"){const{maxHeight:F}=u.current.style;if(typeof F=="undefined"||n.canvasInfo===null)return;const D=n.canvasInfo.height*(1-E/100),w=n.canvasInfo.height-D;u.current.style.height=`${D}px`,u.current.style.borderTop="1px dashed yellow",s(n.id,{cutTop:w/n.canvasInfo.height})}},[u,s,n]),_=c.exports.useCallback((T,E)=>{if(u.current!==null&&typeof E=="number"){const{maxHeight:F}=u.current.style;if(typeof F=="undefined"||n.canvasInfo===null)return;const D=Number(F.replace("px",""))*(E/100);u.current.style.marginTop=`-${D}px`,s(n.id,{moveUp:D/n.canvasInfo.height})}},[u,s,n]),$=c.exports.useCallback(()=>{var T,E;(E=(T=u.current)==null?void 0:T.style)!=null&&E.borderTop&&(u.current.style.borderTop="none")},[u]),d=(Z=(H=n.canvasInfo)==null?void 0:H.width)!=null?Z:Number.NaN,h=(Y=(ee=n.canvasInfo)==null?void 0:ee.height)!=null?Y:Number.NaN,g=Number.isFinite(d)?`${d}px`:"100%",R=Number.isFinite(h)?`${h}px`:"auto",V=Number.isFinite(h)?`-${Math.round(h/2)}px`:"0",P={0:`${d*.35}px`,1:`${d*.05}px`,2:`${d*.15}px`,3:`${d*.25}px`},U={0:`${d*(1-.35)-30}px`,1:`${d*(1-.05)-30}px`,2:`${d*(1-.15)-30}px`,3:`${d*(1-.25)-30}px`};return a(dt,{children:N(oe,{direction:"row",children:[N(Q,{component:"div",sx:{position:"relative",alignSelf:"stretch"},children:[a(Q,{component:"div",ref:p,pb:4,sx:{position:"absolute",top:V,left:P[`${t%4}`],height:R},children:t>0&&a(It,{sx:{'& input[type="range"]':{WebkitAppearance:"slider-vertical"}},orientation:"vertical",defaultValue:i.cutTop*100,onChange:x,onChangeCommitted:$,onKeyDown:Lt,valueLabelDisplay:"off"})}),a(Q,{component:"div",ref:S,pb:4,sx:{position:"absolute",top:V,left:U[`${t%4}`],height:R},children:t>0&&a(It,{sx:{'& input[type="range"]':{WebkitAppearance:"slider-vertical"}},orientation:"vertical",defaultValue:i.moveUp*100,onChange:_,valueLabelDisplay:"off",onKeyDown:Lt,color:"secondary"})})]}),a(Q,{component:"div",ref:u,sx:{flexGrow:1,overflow:"hidden",display:"flex",marginTop:0,borderTop:"none"},style:{height:t>0&&n.canvasInfo!==null?n.canvasInfo.height*(1-i.cutTop):"auto",maxHeight:R,marginTop:t>0&&n.canvasInfo!==null?`-${i.moveUp*n.canvasInfo.height}px`:"0"},children:a(oe,{direction:"row",alignItems:"end",children:a(Q,{component:"div",ref:v,sx:{width:g,height:R},children:a("img",{width:g,height:R,src:n.dataUrl,alt:n.file.name})})})})]})})};function Lt(e){(e.key==="ArrowLeft"||e.key==="ArrowRight")&&e.preventDefault()}const fn=e=>{const{imageSelections:t,onUpdateImage:o,setModifier:n,getModifier:r}=e,s=c.exports.useMemo(()=>t.map(m=>{var i,p;return(p=(i=m.canvasInfo)==null?void 0:i.height)!=null?p:null}).reduce((m,i)=>m!==null&&i!==null?m+i:null,0),[t]);return a(Q,{component:"div",sx:{height:s!==null?`${s}px`:"auto"},children:t.map((m,i)=>a(mn,{imageSelection:m,index:i,total:t.length,onUpdateImage:o,setModifier:n,getModifier:r},m.id))})};async function vn(e){const t=await Promise.allSettled([...e].map(bn)),o=[];return t.forEach(n=>{switch(n.status){case"fulfilled":{o.push(n.value);break}case"rejected":{console.error("Failed to read image",n.reason);break}}}),o}let hn=0;async function bn(e){return new Promise((t,o)=>{try{const n=new FileReader;n.onload=()=>{const r=new Image;r.onload=()=>{t({id:`image${hn++}`,file:e,dataUrl:`${n.result}`,imageInfo:{aspectRatio:r.height/r.width,width:r.width,height:r.height},canvasInfo:null})},r.onerror=s=>{o(s)},r.src=`${n.result}`},n.readAsDataURL(e)}catch(n){o(n)}})}function gn(e){return[...e].sort((t,o)=>t.file.name.localeCompare(o.file.name,"en"))}function xn(e){const t={},o=[];return e.forEach(n=>{t[n.file.name]||(t[n.file.name]=!0,o.push(n))}),o}function kt(e={}){return{cutTop:0,moveUp:0,...e}}async function Sn(e,t){const o=document.createElement("canvas"),n=o.getContext("2d");if(n===null)return null;o.width=Cn(e),o.height=yn(e,t);let r=0;for(const s of e)await new Promise(m=>{const i=new Image;i.onload=()=>{const p=Tt(s,t),S=s.imageInfo.height-p,u=Et(s,t),v=0,x=S,_=s.imageInfo.width,$=p,d=0,h=r-u,g=s.imageInfo.width,R=p;n.drawImage(i,v,x,_,$,d,h,g,R),r=h+R,m()},i.src=s.dataUrl});return o.toDataURL("image/jpeg")}function Cn(e){return Math.max(...e.map(t=>t.imageInfo.width))}function yn(e,t){return e.map(o=>Tt(o,t)-Et(o,t)).reduce((o,n)=>o+n,0)}function Tt(e,t){return Math.round(e.imageInfo.height*(1-t(e.id).cutTop))}function Et(e,t){return Math.round(e.imageInfo.height*t(e.id).moveUp)}const In=()=>{const[e,t]=c.exports.useState([]),[o,n]=c.exports.useState(!1),r=c.exports.useRef({});c.exports.useState(null);const s=c.exports.useCallback(d=>{n(!0),(async()=>{try{const h=await vn(d);t(g=>xn([...g,...gn(h)])),n(!1)}catch(h){console.error(h),n(!1)}})()},[]),m=c.exports.useCallback(d=>{t(h=>h.map(g=>g.id!==d.id?g:d))},[]),i=c.exports.useCallback(d=>{t(h=>{const g=[...h];return g[d]=h[d-1],g[d-1]=h[d],d-1===0&&delete r.current[g[d-1].id],g})},[]),p=c.exports.useCallback(d=>{t(h=>{const g=[...h];return g[d]=h[d+1],g[d+1]=h[d],d===0&&delete r.current[g[d].id],g})},[]),S=c.exports.useCallback(d=>{t(h=>{const g=[...h],R=g.splice(d,1);return r.current[R[0].id]&&delete r.current[R[0].id],g})},[r]),u=c.exports.useCallback(()=>{t([])},[]),v=c.exports.useCallback((d,h)=>{var R;const g=(R=r.current[d])!=null?R:kt();r.current[d]={...g,...h}},[r]),x=c.exports.useCallback(d=>{var h;return(h=r.current[d])!=null?h:kt()},[r]),_=c.exports.useCallback(()=>{r.current={}},[r]),$=c.exports.useCallback(()=>Sn(e,x),[e,x]);return{imageSelections:e,loading:o,addFiles:s,updateImageSelection:m,moveImageUp:i,moveImageDown:p,removeImage:S,clearImages:u,setModifier:v,getModifier:x,clearModifier:_,joinImages:$}};var pt={},Rn=Ie.exports;Object.defineProperty(pt,"__esModule",{value:!0});var st=pt.default=void 0,Ln=Rn(ye),kn=Re,$n=(0,Ln.default)((0,kn.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");st=pt.default=$n;var mt={},wn=Ie.exports;Object.defineProperty(mt,"__esModule",{value:!0});var ct=mt.default=void 0,_n=wn(ye),Mn=Re,Nn=(0,_n.default)((0,Mn.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");ct=mt.default=Nn;var ft={},Pn=Ie.exports;Object.defineProperty(ft,"__esModule",{value:!0});var At=ft.default=void 0,Tn=Pn(ye),En=Re,An=(0,Tn.default)((0,En.jsx)("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4 2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"}),"Collections");At=ft.default=An;var vt={},Dn=Ie.exports;Object.defineProperty(vt,"__esModule",{value:!0});var Dt=vt.default=void 0,On=Dn(ye),zn=Re,Vn=(0,On.default)((0,zn.jsx)("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}),"AddPhotoAlternate");Dt=vt.default=Vn;var z=(e=>(e[e.CHOOSE_AND_REORDER=0]="CHOOSE_AND_REORDER",e[e.CUT_AND_MOVE=1]="CUT_AND_MOVE",e[e.PREVIEW_AND_CONFIRM=2]="PREVIEW_AND_CONFIRM",e))(z||{});const Un=e=>{const{mode:t,imageSelections:o,disabled:n,resultDataUrl:r,onAddFiles:s,onClearImages:m,onChangeMode:i}=e,p=c.exports.useRef(null),S=c.exports.useCallback(()=>{var u,v;(v=(u=p.current)==null?void 0:u.files)!=null&&v.length&&(s(p.current.files),p.current.value="")},[s,p]);return a(Qt,{left:u=>N(te,{children:[t===z.CHOOSE_AND_REORDER&&N(te,{children:[N(se,{variant:"outlined",startIcon:o.length>0?a(Dt,{}):a(At,{}),component:"label",children:[o.length>0?q("button.addImages"):q("button.chooseImages"),a("input",{hidden:!0,ref:p,type:"file",id:"imageUpload",name:"imageUpload",multiple:!0,disabled:n,accept:"image/jpeg",onChange:S})]},"addFiles"),o.length>0&&a(se,{variant:"outlined",onClick:m,startIcon:a(Jt,{}),disabled:n,...u,children:q("button.reset")},"clearImages")]}),t===z.CUT_AND_MOVE&&a(te,{children:a(se,{variant:"outlined",onClick:()=>i(z.CHOOSE_AND_REORDER),startIcon:a(st,{}),...u,children:q("button.back")},"backToChooseAndReorder")}),t===z.PREVIEW_AND_CONFIRM&&a(te,{children:a(se,{variant:"outlined",onClick:()=>i(z.CUT_AND_MOVE),startIcon:a(st,{}),...u,children:q("button.back")},"backToCutAndMove")})]}),right:u=>N(te,{children:[t===z.CHOOSE_AND_REORDER&&a(te,{children:a(se,{variant:"outlined",onClick:()=>i(z.CUT_AND_MOVE),endIcon:a(ct,{}),disabled:o.length<2,...u,children:q("button.next")},"nextToCutAndMove")}),t===z.CUT_AND_MOVE&&a(te,{children:a(se,{variant:"outlined",onClick:()=>i(z.PREVIEW_AND_CONFIRM),endIcon:a(ct,{}),...u,children:q("button.next")},"nextToPreviewAndConfirm")}),t===z.PREVIEW_AND_CONFIRM&&a(te,{children:a(se,{variant:"outlined",disabled:n||r===null,startIcon:a(Zt,{}),onClick:()=>{r!==null&&Fn(r)},...u,children:q("button.downloadFile")})})]})})};function Fn(e){var t=document.createElement("a");t.download="image.jpg",t.href=e,t.click()}var ht={},Hn=Ie.exports;Object.defineProperty(ht,"__esModule",{value:!0});var Ot=ht.default=void 0,jn=Hn(ye),Wn=Re,Bn=(0,jn.default)((0,Wn.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");Ot=ht.default=Bn;var bt={},qn=Ie.exports;Object.defineProperty(bt,"__esModule",{value:!0});var zt=bt.default=void 0,Yn=qn(ye),Kn=Re,Xn=(0,Yn.default)((0,Kn.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");zt=bt.default=Xn;const Gn=e=>{const{imageSelections:t,onMoveUp:o,onMoveDown:n,onRemove:r}=e,[s,m]=c.exports.useState(null),i=wt(),p=qt(i.breakpoints.down("sm"));return t.length===0?null:N(dt,{children:[a(Q,{component:"div",p:1,children:a(oe,{spacing:1,children:t.map((S,u)=>N(c.exports.Fragment,{children:[a(be,{variant:"caption",color:"text.secondary",noWrap:!0,children:S.file.name}),N(oe,{direction:"row",spacing:1,alignItems:"center",sx:{minHeight:"90px"},children:[a(Q,{component:"div",sx:{flexGrow:1,position:"relative"},children:a("img",{src:S.dataUrl,alt:S.file.name,style:{width:"100%",cursor:p?"zoom-in":"default"},onClick:p?()=>m(S):void 0})}),N(oe,{spacing:1,children:[a("div",{children:a(tt,{onClick:()=>o(u),disabled:u===0,children:a(Ot,{})})}),a("div",{children:a(tt,{onClick:()=>n(u),disabled:u===t.length-1,children:a(zt,{})})})]}),a("div",{children:a(tt,{onClick:()=>r(u),children:a(eo,{})})})]})]},S.id))})}),s!==null&&a(to,{title:a(be,{variant:"body2",noWrap:!0,children:s.file.name}),content:a(oe,{spacing:1,children:a("div",{children:a("img",{src:s.dataUrl,alt:s.file.name,style:{scale:.5}})})}),onClose:()=>m(null),actions:a(se,{variant:"outlined",onClick:()=>m(null),children:q("button.close")},"share"),maxWidth:!1})]})},it=e=>{const{step:t}=e;return a(dt,{children:a(Q,{component:"div",p:1,children:N(pn,{activeStep:t,children:[a(nt,{children:a(lt,{children:q("imageEdit.chooseAndOrder")})}),a(nt,{children:a(lt,{children:q("imageEdit.cutAndMove")})}),a(nt,{children:a(lt,{children:q("imageEdit.previewAndConfirm")})})]})})})},ia=()=>{const[e,t]=c.exports.useState(z.CHOOSE_AND_REORDER),[o,n]=c.exports.useState(null),{imageSelections:r,loading:s,addFiles:m,updateImageSelection:i,moveImageUp:p,moveImageDown:S,removeImage:u,clearImages:v,setModifier:x,getModifier:_,clearModifier:$,joinImages:d}=In(),h=c.exports.useCallback(g=>{(async()=>(g===z.CHOOSE_AND_REORDER&&$(),g===z.PREVIEW_AND_CONFIRM&&n(await d()),t(g),window.scrollTo(0,0)))()},[$,d]);return N(te,{children:[a(Yt,{currentRoute:"/imageEdit"}),a(Un,{mode:e,imageSelections:r,disabled:s,resultDataUrl:o,onAddFiles:m,onClearImages:v,onChangeMode:h}),a(Kt,{children:N(Q,{component:"div",p:1,children:[e===z.CHOOSE_AND_REORDER&&N(oe,{pt:1,pb:1,spacing:2,children:[a(be,{variant:"body2",children:q("imageEdit.pageDescription1")}),a(be,{variant:"body2",children:q("imageEdit.pageDescription2")}),a(it,{step:z.CHOOSE_AND_REORDER}),a(Gn,{imageSelections:r,onMoveUp:p,onMoveDown:S,onRemove:u})]}),e===z.CUT_AND_MOVE&&N(oe,{pt:1,pb:1,spacing:2,children:[a(it,{step:z.CUT_AND_MOVE}),a(be,{variant:"body2",children:q("imageEdit.cutAndMoveDescription")}),a(fn,{imageSelections:r,onUpdateImage:i,setModifier:x,getModifier:_})]}),e===z.PREVIEW_AND_CONFIRM&&N(oe,{pt:1,pb:1,spacing:2,children:[a(it,{step:z.PREVIEW_AND_CONFIRM}),a(be,{variant:"body2",children:q("imageEdit.imageReady")}),a("div",{children:o&&a("img",{alt:"resultImage",src:o,style:{width:"100%"}})})]})]})}),a(Xt,{})]})};export{ia as default};
